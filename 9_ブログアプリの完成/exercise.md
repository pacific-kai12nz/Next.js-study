# 練習問題: ブログアプリの完成

## 問題1: 概念の理解

以下の質問に自分の言葉で回答してください：

1. ブログアプリケーションにおいて、Server ComponentとClient Componentをどのように使い分けるべきか、その理由も含めて説明してください。

2. Next.jsアプリケーションでデータフェッチを行う際の適切な場所と方法について説明してください。

3. フルスタックアプリケーションの構築において、Next.jsを使用する利点について説明してください。

## 問題2: 投稿一覧表示機能の改善

現在のブログアプリの投稿一覧表示機能を改善しましょう。

1. ページネーションの実装
   - 投稿一覧ページに、前のセクションで学んだページネーション機能を実装
   - 一度に表示する記事数を限定（例：6件ずつ）
   - 前へ/次へボタンとページ番号表示の実装

2. 投稿カードデザインの改善
   - 各投稿カードの見た目を改善
   - 投稿日時、著者名、タイトル、内容プレビューを適切に表示
   - 「続きを読む」リンクの配置

## 問題3: 投稿詳細表示機能の完成

記事詳細ページの機能を完成させましょう。

1. コメントセクションの実装
   - 投稿詳細ページにコメント表示・投稿機能を追加
   - コメントフォームの作成（Client Component）
   - 送信したコメントを即座に表示する機能の実装
   - コメント投稿APIエンドポイントの作成

2. 関連記事表示機能の追加
   - 記事詳細ページの下部に関連記事（同じ著者の他の記事など）を表示
   - 関連記事をカード形式で表示し、リンクを設置

## 問題4: 投稿作成機能の実装

新規投稿作成機能を実装しましょう。

1. 投稿フォームの作成
   - タイトル、内容を入力できるフォームをClient Componentで実装
   - バリデーション機能の追加（必須項目チェックなど）
   - プレビュー機能の実装（オプション）

2. 投稿保存APIの実装
   - 新規投稿を保存するAPIエンドポイントの改善
   - 適切なエラーハンドリングとレスポンスの実装
   - 投稿成功後の適切なリダイレクト処理

## 問題5: 最終的な統合

ブログアプリケーションの各機能を統合し、ユーザーエクスペリエンスを向上させましょう。

1. ナビゲーションの改善
   - ヘッダーに「新規投稿」ボタンの追加
   - パンくずリストの実装（オプション）
   - アクティブなナビゲーション項目のハイライト

2. エラーハンドリングとユーザーフィードバック
   - 404ページの改善
   - データ読み込み中の状態表示（ローディングUI）
   - エラー発生時の適切なフィードバック表示
   - フォーム送信時の適切なフィードバック

3. デザインの統一と改善
   - 一貫したカラースキームとタイポグラフィの適用
   - レスポンシブデザインの改善
   - アクセシビリティの向上（適切なARIAラベルなど）

## ヒント

- Server Componentでは`async/await`を使ってデータを直接取得できますが、Client ComponentではuseEffectまたは適切なカスタムフックを使用します
- コメント機能の実装では、楽観的UIアップデート（Optimistic UI Update）を使うとユーザー体験が向上します
- フォームの実装では、React Hook Formのようなライブラリの使用も検討できますが、まずは基本的な形式で実装してみましょう
- 複雑なUI状態管理には、useReducerやContext APIの使用も検討できます
- エラーハンドリングには、Next.jsの組み込み機能（error.tsxやnot-found.tsx）を活用しましょう
